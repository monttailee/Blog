##### React diff原理
传统diff算法通过循环递归对节点进行依次对比，效率低下，算法复杂度达到 O(n^3)，其中 n 是树中节点的总数

react却利用其特殊的diff算法做到了O(n^3)到O(n)的飞跃性的提升，而完成这一壮举的法宝就是下面这三条看似简单的diff策略：
```
tree diff -- Web UI中DOM节点跨层级的移动操作特别少，可以忽略不计。
component diff -- 拥有相同类的两个组件将会生成相似的树形结构，拥有不同类的两个组件将会生成不同的树形结构。
element diff -- 对于同一层级的一组子节点，它们可以通过唯一 id 进行区分。
```
https://juejin.cn/post/6844903825946624013


###### fiber解决了什么问题

帧率：每秒能呈现渲染多少次画面，用于衡量动画流畅度的指标。通常 fps < 30 就能明显感知卡顿现象，流畅舒适的动画帧率在60左右。所以渲染一次画面所需的JS运算时间力求 < 16ms。

当我们调用 setState 更新页面的时候，React 会遍历应用的所有节点，计算出差异，然后再更新UI，整个过程是一气呵成，不能被打断的。如果页面元素很多，整个过程占用的时机就可能超过16毫秒，就容易出现掉帧的现象。

```
    Fiber解决主线程长时间被 JS 运算占用这一问题的基本思路，是将运算切割为多个步骤，分批完成。也就是说在完成一部分任务之后，再将控制权交回给浏览器，让浏览器有时间进行页面的渲染。等浏览器忙完之后，再继续之前未完成的任务。
```